{% extends 'base.html' %}
{% load static %}
{% block content %}

<div class="container mx-auto mt-10 max-w-3xl bg-white p-8 rounded-2xl shadow-lg">
  <h1 class="text-2xl font-bold text-center mb-6">Profile</h1>

  <!-- Profile Summary Section -->
  <div class="grid grid-cols-3 gap-4 text-center mb-8">
    <div class="p-4 bg-green-50 rounded-lg">
      <p class="text-xl font-semibold text-green-600">â‚¹{{ total_spent }}</p>
      <p class="text-gray-500 text-sm">Total Spent</p>
    </div>
    <div class="p-4 bg-blue-50 rounded-lg">
      <p class="text-xl font-semibold text-blue-600">{{ total_transactions }}</p>
      <p class="text-gray-500 text-sm">Transactions</p>
    </div>
    <div class="p-4 bg-purple-50 rounded-lg">
      <p class="text-xl font-semibold text-purple-600">{{ avg_daily_expense }}</p>
      <p class="text-gray-500 text-sm">Avg / Day</p>
    </div>
  </div>

  <!-- Edit Profile Form -->
  <h2 class="text-lg font-semibold mb-3 text-center">Edit Profile Info</h2>
  <form method="POST" class="bg-gray-50 p-6 rounded-xl shadow">
    {% csrf_token %}
    {% if messages %}
      <ul class="mb-4">
        {% for message in messages %}
          <li class="text-center text-sm {% if message.tags == 'error' %}text-red-600{% else %}text-green-600{% endif %}">
            {{ message }}
          </li>
        {% endfor %}
      </ul>
    {% endif %}
    <label class="block text-sm font-medium text-gray-700">Username</label>
    <input type="text" name="username" value="{{ user.username }}" class="border rounded w-full p-2 mt-1 mb-4">

    <label class="block text-sm font-medium text-gray-700">Email</label>
    <input type="email" name="email" value="{{ user.email }}" class="border rounded w-full p-2 mt-1 mb-4">

    <div class="text-center">
      <button type="submit" class="bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600">
        Save Changes
      </button>
    </div>
  </form>
</div>

{% endblock %}
